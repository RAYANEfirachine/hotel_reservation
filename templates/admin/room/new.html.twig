{% extends 'base.html.twig' %}

{% block title %}Register New Room{% endblock %}

{% block stylesheets %}
    <link rel="stylesheet" href="{{ asset('css/new_room.css') }}">
    <style>
        /* إضافات بسيطة لضمان مظهر البطاقة إذا لم تكن موجودة في ملف CSS الخاص بك */
        .entry-page-wrapper { padding: 4rem 2rem; display: flex; justify-content: center; }
        .creation-card { background: white; padding: 2.5rem; border-radius: 15px; box-shadow: 0 10px 30px rgba(0,0,0,0.05); width: 100%; max-width: 600px; }
        .creation-header h1 { font-family: 'Playfair Display', serif; color: var(--dark-bg); margin-bottom: 0.5rem; }
        .input-section { margin-bottom: 1.5rem; }
        .input-section label { display: block; font-weight: 600; margin-bottom: 0.5rem; color: var(--text-gray); }
        .button-group { display: flex; gap: 1rem; margin-top: 2rem; }
        .btn-save { background: var(--dark-bg); color: white; border: none; padding: 0.8rem 2rem; border-radius: 8px; cursor: pointer; transition: all 0.3s ease; }
        .btn-save:hover { background: var(--primary-gold); }
        .btn-cancel { text-decoration: none; color: var(--text-gray); padding: 0.8rem 2rem; border: 1px solid #ddd; border-radius: 8px; }
    </style>
{% endblock %}

{% block body %}
<div class="entry-page-wrapper">
    <div class="creation-card">
        <header class="creation-header">
            <h1>New Room</h1>
            <p>Enter the details to expand your hotel's inventory.</p>
        </header>

        {# تم فتح الفورم مرة واحدة فقط هنا #}
        {{ form_start(form) }}

            {# عرض الأخطاء العامة إن وجدت #}
            {{ form_errors(form) }}

            <div class="input-section">
                {{ form_label(form.roomNumber, 'Designated Room Number') }}
                {{ form_widget(form.roomNumber, {'attr': {'placeholder': 'e.g. 101, 204...', 'class': 'form-control'}}) }}
                {{ form_errors(form.roomNumber) }}
            </div>

            <div class="input-section">
                {{ form_label(form.roomType, 'Accommodation Category') }}
                {{ form_widget(form.roomType, {'attr': {'class': 'form-control'}}) }}
                {{ form_errors(form.roomType) }}
            </div>

            {# عرض أي حقول متبقية (مثل الحالة Status) تلقائياً لتجنب نسيانها #}
            {% if form.status is defined %}
                <div class="input-section">
                    {{ form_label(form.status) }}
                    {{ form_widget(form.status, {'attr': {'class': 'form-control'}}) }}
                    {{ form_errors(form.status) }}
                </div>
            {% endif %}

            <div class="button-group">
                <button type="submit" class="btn-save">Confirm & Save</button>
                <a href="{{ path('admin_room_index') }}" class="btn-cancel">Back to List</a>
            </div>

        {# تم إغلاق الفورم مرة واحدة فقط هنا #}
        {{ form_end(form) }}
    </div>
</div>
{% endblock %}
